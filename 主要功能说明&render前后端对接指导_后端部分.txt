ã€æ–‡æ¡£åç§°ã€‘ä¸»è¦åŠŸèƒ½è¯´æ˜ & Render å‰åç«¯å¯¹æ¥æŒ‡å¯¼ï¼ˆåç«¯éƒ¨åˆ†ï¼‰
ã€å¯¹åº”åç«¯ä¸»æ–‡ä»¶ã€‘main_v3.py
ã€æœåŠ¡ç±»å‹ã€‘Python FastAPIï¼ˆREST APIï¼‰
ã€æ–‡æ¡£ç‰ˆæœ¬ã€‘v2.0 (æ›´æ–°äº 2025-12-18)
ã€ç”¨é€”ã€‘æœ¬æœåŠ¡è´Ÿè´£é‡‡é›†å®è§‚/æµåŠ¨æ€§/æƒ…ç»ª/æŠ€æœ¯é¢æ•°æ®ï¼Œç”Ÿæˆå¸‚åœºå¿«ç…§ï¼ˆsnapshotï¼‰ï¼Œå¹¶å¯è°ƒç”¨ Gemini 3 ç”Ÿæˆæ¨¡å—/æ•´ä½“åˆ†æä¸å¯¹è¯å›å¤ã€‚

================================================================================
1. ä¸€å¥è¯æ¦‚è§ˆï¼ˆç»™äº§å“/è®¾è®¡/å‰ç«¯ï¼‰
--------------------------------------------------------------------------------
- è¿™æ˜¯ä¸€ä¸ª"å¸‚åœºæ•°æ®ä¸­é—´ä»¶ + LLM åˆ†æåç«¯"ã€‚
- å‰ç«¯çš„æ ‡å‡†æµç¨‹ï¼šç™»å½•ï¼ˆå¯†ç ï¼‰â†’ ç”Ÿæˆå¿«ç…§ â†’ æ‹‰å–å¿«ç…§ â†’ è§¦å‘ LLM åˆ†æï¼ˆå•æ¨¡å—/æ€»ä½“ï¼‰â†’ åŸºäºå¿«ç…§åšå¤šè½®å¯¹è¯ã€‚

================================================================================
2. æœ¬åœ°è¿è¡Œä¸æ‰‹åŠ¨æµ‹è¯•ï¼ˆWindows / PowerShellï¼‰
--------------------------------------------------------------------------------
2.1 å®‰è£…ä¸å¯åŠ¨
- å»ºè®® Pythonï¼š3.10/3.11
- å®‰è£…ä¾èµ–ï¼š
  - åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼špip install -r requirements.txt
- é…ç½®ç¯å¢ƒå˜é‡ï¼ˆæ¨èåœ¨ main_v3.py åŒç›®å½•æ”¾ç½® .envï¼›ä¹Ÿå¯ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼‰ï¼š
  - APP_PASSWORDï¼šå¼€å¯ç™»å½•é‰´æƒç”¨çš„å¯†ç ï¼ˆä¸è®¾ç½®åˆ™é»˜è®¤ä¸é‰´æƒï¼‰
  - GEMINI_API_KEY æˆ– GOOGLE_API_KEYï¼šGemini API Keyï¼ˆä¸è®¾ç½®åˆ™ LLM åŠŸèƒ½ä¸å¯ç”¨ï¼‰
  - FRED_API_KEYï¼šFRED æ•°æ® Keyï¼ˆä¸è®¾ç½®åˆ™å®è§‚/æµåŠ¨æ€§éƒ¨åˆ†ä¼šç¼ºå¤±ï¼‰
  - TE_CLIENT_KEY / TE_CLIENT_SECRETï¼šTradingEconomicsï¼ˆä¸è®¾ç½®åˆ™ç»æµæ—¥å†ä¸ºç©ºï¼‰
  - GEMINI_MODELï¼ˆå¯é€‰ï¼Œé»˜è®¤ gemini-3-pro-previewï¼‰
  - GEMINI_THINKING_LEVELï¼ˆå¯é€‰ï¼Œlow/highï¼Œé»˜è®¤ highï¼‰
  - CORS_ALLOW_ORIGINSï¼ˆå¯é€‰ï¼Œå‰ç«¯è”è°ƒç”¨ï¼›é€—å·åˆ†éš”ï¼›ä¸è®¾é»˜è®¤ *ï¼‰

- å¯åŠ¨æ–¹å¼ï¼ˆäºŒé€‰ä¸€ï¼‰ï¼š
  A) ç›´æ¥è¿è¡Œè„šæœ¬ï¼ˆè‡ªåŠ¨è¯»å– PORT ç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ 8000ï¼‰ï¼š
     python main_v3.py

  B) ç”¨ uvicornï¼ˆæ¨èå¼€å‘æ€ï¼Œæ”¯æŒ --reloadï¼‰ï¼š
     uvicorn main:app --reload --host 0.0.0.0 --port 8000

- è®¿é—®æ–‡æ¡£ï¼š
  - Swaggerï¼š http://127.0.0.1:8000/docs
  - OpenAPI JSONï¼š http://127.0.0.1:8000/openapi.json

2.2 PowerShell æ‰‹åŠ¨æµ‹è¯•ï¼ˆæ¨èï¼šInvoke-RestMethodï¼‰
æ³¨æ„ï¼šPowerShell é‡Œçš„ curl é»˜è®¤æ˜¯ Invoke-WebRequest çš„åˆ«åï¼Œå‚æ•°ä¸ Linux curl ä¸ä¸€æ ·ã€‚å»ºè®®ç”¨ Invoke-RestMethodã€‚

(1) å¥åº·æ£€æŸ¥
$base = "http://127.0.0.1:8000"
Invoke-RestMethod -Method Get -Uri "$base/health"

(2) ç™»å½•ï¼ˆPOST + JSON bodyï¼‰
$login = Invoke-RestMethod -Method Post -Uri "$base/auth/login" -ContentType "application/json" -Body (@{ password = "ä½ çš„å¯†ç " } | ConvertTo-Json)
$token = $login.token

(3) ç”Ÿæˆå¿«ç…§ï¼ˆå—ä¿æŠ¤ï¼Œéœ€è¦ tokenï¼‰
$snap = Invoke-RestMethod -Method Post -Uri "$base/v3/snapshot/run" -Headers @{ Authorization = "Bearer $token" }
$snapshot_id = $snap.id

(4) è·å–å¿«ç…§ï¼ˆå—ä¿æŠ¤ï¼‰
Invoke-RestMethod -Method Get -Uri "$base/v3/snapshot/$snapshot_id" -Headers @{ Authorization = "Bearer $token" }

(5) å•æ¨¡å—åˆ†æï¼ˆå¯å…ˆ call_llm=false åªçœ‹ promptï¼‰
Invoke-RestMethod -Method Post -Uri "$base/v3/analysis/module" -Headers @{ Authorization = "Bearer $token" } -ContentType "application/json" -Body (@{ snapshot_id = $snapshot_id; module = "fundamentals"; call_llm = $false } | ConvertTo-Json)

(6) æ€»ä½“åˆ†æï¼ˆcall_llm=true ä¼šè§¦å‘ Geminiï¼Œå»ºè®®å…ˆç¡®è®¤ GEMINI_API_KEY å·²é…ï¼‰
Invoke-RestMethod -Method Post -Uri "$base/v3/analysis/overall" -Headers @{ Authorization = "Bearer $token" } -ContentType "application/json" -Body (@{ snapshot_id = $snapshot_id; call_llm = $true; include_module_summaries = $true } | ConvertTo-Json)

(7) Chatï¼ˆåŸºäºå¿«ç…§çš„å¤šè½®å¯¹è¯ï¼‰
Invoke-RestMethod -Method Post -Uri "$base/v3/chat" -Headers @{ Authorization = "Bearer $token" } -ContentType "application/json" -Body (@{ snapshot_id = $snapshot_id; messages = @(@{ role = "user"; content = "ç”¨ä¸€å¥è¯æ€»ç»“ä»Šå¤©çš„é£é™©åå¥½" }) } | ConvertTo-Json -Depth 6)

2.3 å¸¸è§æœ¬åœ°é—®é¢˜ï¼ˆä½ ä¹‹å‰"æ— æ³•ç™»å½•"çš„åŸå› ï¼‰
- /auth/login å¿…é¡»ç”¨ POSTï¼Œå¹¶ä¸”å»ºè®®ç”¨ JSON bodyï¼š{"password":"..."}
- æµè§ˆå™¨è·¨åŸŸæ—¶ cookie å¾ˆå®¹æ˜“å› ä¸º SameSite/HTTPS é™åˆ¶è€Œä¸å‘é€ï¼Œæ‰€ä»¥å‰ç«¯å¯¹æ¥å»ºè®®ç”¨ token + Authorization å¤´ã€‚

================================================================================
3. Render éƒ¨ç½²ï¼ˆåç«¯ Web Serviceï¼‰
--------------------------------------------------------------------------------
Render æœ€æ¨èçš„æ–¹å¼æ˜¯"ä» Git ä»“åº“éƒ¨ç½²"ï¼ˆGitHub/GitLabï¼‰ã€‚æœ¬é¡¹ç›®æ ¹ç›®å½•å·²æœ‰ requirements.txtï¼ŒRender å¯ç›´æ¥è¯†åˆ«ã€‚

3.1 åœ¨ Render åˆ›å»º Web Serviceï¼ˆPythonï¼‰
- Service Typeï¼šWeb Service
- Runtimeï¼šPython
- Build Commandï¼š
  pip install -r requirements.txt
- Start Commandï¼ˆæ¨èï¼‰ï¼š
  uvicorn main:app --host 0.0.0.0 --port $PORT
  è¯´æ˜ï¼šRender ä¼šæ³¨å…¥ PORT ç¯å¢ƒå˜é‡ï¼›å¿…é¡»ç›‘å¬ 0.0.0.0ã€‚
- Health Check Pathï¼š
  /health

3.2 Render ç¯å¢ƒå˜é‡ï¼ˆEnvironment Variablesï¼‰
å¿…é¡»/å»ºè®®è®¾ç½®ï¼š
- APP_PASSWORDï¼šå»ºè®®å¿…è®¾ï¼ˆå¦åˆ™é»˜è®¤ä¸é‰´æƒï¼Œä»»ä½•äººéƒ½èƒ½è°ƒç”¨ä½ çš„æ•°æ®/LLM é…é¢ï¼‰
- DATA_DIRï¼šå¼ºçƒˆå»ºè®®å¿…è®¾ï¼ˆRender Persistent Disk æŒ‚è½½è·¯å¾„ï¼Œä¾‹å¦‚ /var/dataï¼‰
  - Render æ§åˆ¶å°ï¼šDisks -> Add Disk -> Mount Path è®¾ä¸º /var/data
  - Environment é‡ŒåŠ ï¼šDATA_DIR=/var/data
  - åç«¯ä¼šæŠŠå¿«ç…§ä¸ LLM ç»“æœå†™å…¥ä»¥ä¸‹ç›®å½•ï¼ˆå¯æŒä¹…åŒ–ï¼Œé‡å¯ä¸ä¸¢ï¼‰ï¼š
    - /var/data/snapshots/<snapshot_id>.json
    - /var/data/llm_logs/module/<snapshot_id>/<module>.jsonl
    - /var/data/llm_logs/overall/<snapshot_id>/events.jsonl
    - /var/data/llm_logs/chat/<snapshot_id>/events.jsonl
- GEMINI_API_KEYï¼ˆæˆ– GOOGLE_API_KEYï¼‰ï¼šå¯ç”¨ LLM åˆ†æ/èŠå¤©
- FRED_API_KEYï¼šå¯ç”¨ FRED å®è§‚/æµåŠ¨æ€§æ•°æ®
- TE_CLIENT_KEYã€TE_CLIENT_SECRETï¼šå¯ç”¨ TradingEconomics ç»æµæ—¥å†
- CORS_ALLOW_ORIGINSï¼šå‰ç«¯åŸŸåç™½åå•ï¼ˆé€—å·åˆ†éš”ï¼‰
  ä¾‹ï¼šCORS_ALLOW_ORIGINS=https://your-frontend.onrender.com
å¯é€‰ï¼š
- GEMINI_MODELï¼šé»˜è®¤ gemini-3-pro-preview
- GEMINI_THINKING_LEVELï¼šlow æˆ– highï¼ˆé»˜è®¤ highï¼‰
- TE_CACHE_PATHã€TE_CIRCUIT_PATHï¼šTE æ—¥å†ç¼“å­˜/ç†”æ–­æ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤å†™åˆ° DATA_DIR ä¸‹ï¼‰

3.3 Render ä¸Šçº¿æ³¨æ„äº‹é¡¹ï¼ˆé‡è¦ï¼‰
- å­˜å‚¨æœºåˆ¶ï¼š
  - snapshot ä¸ LLM è¾“å‡ºå·²æ”¹ä¸º"ç£ç›˜ä¸ºå‡†"ï¼ˆDATA_DIRï¼‰ï¼ŒæœåŠ¡é‡å¯/é‡æ–°éƒ¨ç½²åä»å¯é€šè¿‡ snapshot_id å–å›ã€‚
  - ç™»å½• tokenï¼ˆsessionï¼‰ä»æ˜¯å†…å­˜æ€ï¼šæœåŠ¡é‡å¯åéœ€è¦é‡æ–°ç™»å½•è·å– tokenï¼ˆå‰ç«¯é‡åˆ° 401 æ—¶å¼•å¯¼é‡æ–°ç™»å½•å³å¯ï¼‰ã€‚
  - å¦‚æœä½ æŠŠæœåŠ¡æ‰©åˆ°å¤šå®ä¾‹ï¼ˆå¤šå‰¯æœ¬ï¼‰ï¼Œä¸åŒå®ä¾‹ä¸ä¼šå…±äº«å†…å­˜ sessionï¼›å› æ­¤å»ºè®®å…ˆä¿æŒ 1 ä¸ªå®ä¾‹ï¼Œæˆ–æœªæ¥æŠŠ session ä¹Ÿè¿ç§»åˆ°æŒä¹…åŒ–å­˜å‚¨ã€‚
- å…è´¹å¥—é¤å¯èƒ½ä¼šä¼‘çœ ï¼šé•¿æœŸæ— è¯·æ±‚ä¼šå†·å¯åŠ¨ï¼›å¯ç”¨å®šæ—¶ ping /health ä¿æ´»ï¼ˆæŒ‰ Render è§„åˆ™ï¼‰ã€‚

================================================================================
4. å‰ç«¯å¯¹æ¥å…³é”®ç‚¹ï¼ˆæµè§ˆå™¨è°ƒç”¨ï¼‰
--------------------------------------------------------------------------------
4.1 é‰´æƒæ–¹æ¡ˆï¼ˆæ¨èï¼štoken æ¨¡å¼ï¼‰
- ç™»å½•æˆåŠŸååç«¯ä¼šè¿”å›ï¼š
  {"message":"login successful","token":"<hex>"}
- å‰ç«¯å°† token æš‚å­˜ï¼ˆå†…å­˜/æœ¬åœ°å­˜å‚¨è‡ªè¡Œé€‰æ‹©ï¼‰ï¼Œåç»­è¯·æ±‚ç»Ÿä¸€åŠ ï¼š
  Authorization: Bearer <token>
- ä¸æ¨èä¾èµ– cookieï¼ˆè·¨ç«™ cookie åœ¨ç°ä»£æµè§ˆå™¨é™åˆ¶è¾ƒå¤šï¼›æœ¬é¡¹ç›®ä¹Ÿé»˜è®¤ allow_credentials=falseï¼‰ã€‚

4.2 CORS
- åç«¯å·²å†…ç½® CORS ä¸­é—´ä»¶ã€‚
- ç”Ÿäº§å»ºè®®åœ¨ Render è®¾ç½®ï¼šCORS_ALLOW_ORIGINS=ä½ çš„å‰ç«¯åŸŸå
- è‹¥å‰ç«¯å’Œåç«¯åŒåŸŸï¼ˆåå‘ä»£ç†/åŒæœåŠ¡åŸŸåï¼‰å¯ä¸éœ€è¦ CORSï¼Œä½† Render å¸¸è§æ˜¯ä¸åŒåŸŸåã€‚

4.3 å‰ç«¯é¡µé¢/è°ƒç”¨æµç¨‹å»ºè®®
- ç™»å½•é¡µï¼šè¾“å…¥ APP_PASSWORD â†’ POST /auth/login â†’ æ‹¿åˆ° token
- ä¸»é¡µï¼šç‚¹å‡»"ç”Ÿæˆä»Šæ—¥å¿«ç…§" â†’ POST /v3/snapshot/run â†’ å¾—åˆ° snapshot_id
- å¿«ç…§é¡µï¼šGET /v3/snapshot/{snapshot_id} æ¸²æŸ“å››å¤§æ¨¡å—æ•°æ®/æ ‡ç­¾/ä¿¡å·
- åˆ†æé¡µï¼š
  - å•æ¨¡å—ï¼šPOST /v3/analysis/module
  - æ€»ä½“ï¼šPOST /v3/analysis/overall
- å¯¹è¯é¡µï¼šPOST /v3/chatï¼ˆmessages ä¸ºæ•°ç»„ï¼Œå¤šè½®æ—¶æŠŠå†å²ä¸€èµ·ä¼ å›ï¼‰

4.4 é”™è¯¯ç çº¦å®šï¼ˆå‰ç«¯è¦å¤„ç†ï¼‰
- 401 Authentication requiredï¼štoken å¤±æ•ˆ/æœªç™»å½• â†’ è·³è½¬ç™»å½•
- 401 Invalid passwordï¼šå¯†ç é”™è¯¯ â†’ æç¤ºé‡è¯•
- 404 Snapshot not foundï¼šå¿«ç…§ä¸å­˜åœ¨/åç«¯é‡å¯ä¸¢å†…å­˜ â†’ é‡æ–°ç”Ÿæˆå¿«ç…§
- 400 Invalid module nameï¼šmodule å‚æ•°ä¸åˆæ³•
- 500ï¼šåç«¯æŠ“å–æ•°æ®/å¤–éƒ¨ API å¼‚å¸¸

================================================================================
5. API æ¥å£è¯´æ˜ï¼ˆç»™å‰ç«¯ç›´æ¥å¯¹æ¥ï¼‰
--------------------------------------------------------------------------------
ç»Ÿä¸€è¯´æ˜ï¼š
- Base URLï¼š
  - æœ¬åœ°ï¼šhttp://127.0.0.1:8000
  - Renderï¼šhttps://<your-backend-service>.onrender.com
- é‰´æƒï¼šé™¤ /health ä¸ /v1/context å¤–ï¼Œå…¶ä½™ v3 æ¥å£éƒ½éœ€è¦é‰´æƒã€‚
  - Header æ–¹å¼ï¼šAuthorization: Bearer <token>
  - æˆ– Headerï¼šX-Session-Token: <token>
  - æˆ– Cookieï¼šsession=<token>ï¼ˆä¸æ¨èå‰ç«¯è·¨åŸŸä½¿ç”¨ï¼‰

5.1 GET /health
- Authï¼šå¦
- Responseï¼š{"status":"ok"}

5.2 POST /auth/login
- Authï¼šå¦
- Body(JSON)ï¼š{"password":"<APP_PASSWORD>"}
  - å…¼å®¹ï¼šä¹Ÿæ”¯æŒ query ?password=...
- Response(JSON)ï¼š{"message":"login successful","token":"<hex>"}
- Side-effectï¼šåŒæ—¶è®¾ç½® cookieï¼šsession=<token>

5.3 POST /auth/logout
- Authï¼šæ˜¯ï¼ˆcookie æˆ– header ä»»ä¸€ï¼‰
- Response(JSON)ï¼š{"message":"logged out"}

5.4 GET /v1/context?date=YYYY-MM-DD
- Authï¼šå¦ï¼ˆå…¬å¼€æ¥å£ï¼Œé€‚åˆ Dify æ‹‰æ•°æ®ï¼›è‹¥ä½ å¸Œæœ›ä¹Ÿä¿æŠ¤å®ƒï¼Œå¯è‡ªè¡Œæ”¹ä¸º Depends(require_auth)ï¼‰
- Queryï¼šdate å¯é€‰ï¼Œä¸ä¼ åˆ™é»˜è®¤ä»Šå¤©
- Responseï¼š
  - å››å¤§æ¨¡å— fundamentals/liquidity/sentiment/technicals
  - labels
  - prompt_contextï¼ˆç»™ LLM çš„æ–‡æœ¬æ‘˜è¦ï¼‰

5.5 POST /v3/snapshot/run?date=YYYY-MM-DD
- Authï¼šæ˜¯
- Queryï¼šdate å¯é€‰
- Responseï¼šsnapshot å¯¹è±¡
  - idï¼šå¿«ç…§ id
  - dateï¼šæ—¥æœŸ
  - modulesï¼šå››å¤§æ¨¡å—åŸå§‹æ•°æ®
  - labelsï¼šå¯å‘å¼æ ‡ç­¾
  - signalsï¼šé¢å‘ LLM çš„è½»é‡ä¿¡å·åˆ—è¡¨
  - heuristicsï¼šæŒ‰æ¨¡å—çš„æ ‡ç­¾
  - data_qualityï¼šç¼ºå¤±å­—æ®µåˆ—è¡¨

5.6 GET /v3/snapshot/{snapshot_id}
- Authï¼šæ˜¯
- Responseï¼šä¸ /v3/snapshot/run è¿”å›çš„ snapshot ç»“æ„ä¸€è‡´

5.7 POST /v3/analysis/module
- Authï¼šæ˜¯
- Body(JSON)ï¼š
  {
    "snapshot_id": "...",
    "module": "fundamentals|liquidity|sentiment|technicals",
    "call_llm": true,
    "provider": null,
    "model": "gemini-3-pro-preview"
  }
- Response(JSON)ï¼š
  - module/signals/heuristic_label/data_quality
  - system_prompt/user_prompt
  - å½“ call_llm=trueï¼šanalysis / llm_error / llm_provider / llm_model

5.8 POST /v3/analysis/overall
- Authï¼šæ˜¯
- Body(JSON)ï¼š
  {
    "snapshot_id": "...",
    "call_llm": true,
    "include_module_summaries": true,
    "provider": null,
    "model": "gemini-3-pro-preview"
  }
- Response(JSON)ï¼š
  - system_prompt/user_prompt/labels
  - include_module_summaries=true æ—¶ï¼šheuristics/data_quality/signals
  - å½“ call_llm=trueï¼šanalysis / llm_error / llm_provider / llm_model

5.9 POST /v3/chat
- Authï¼šæ˜¯
- Body(JSON)ï¼š
  {
    "snapshot_id": "...",
    "messages": [
      {"role":"user","content":"..."},
      {"role":"assistant","content":"..."}
    ],
    "provider": null,
    "model": "gemini-3-pro-preview"
  }
- Response(JSON)ï¼š
  - system_prompt
  - replyï¼ˆæ¨¡å‹å›å¤ï¼‰æˆ– llm_error

================================================================================
6. å®Œæ•´æ•°æ®ç»“æ„è¯´æ˜ï¼ˆSnapshot JSON Schemaï¼‰
--------------------------------------------------------------------------------
ä»¥ä¸‹æ˜¯ /v3/snapshot/run å’Œ /v3/snapshot/{id} è¿”å›çš„å®Œæ•´æ•°æ®ç»“æ„ã€‚
å‰ç«¯å¯æ ¹æ®æ­¤ç»“æ„è¿›è¡ŒUIæ¸²æŸ“å’Œæ•°æ®å±•ç¤ºã€‚

6.1 é¡¶å±‚ç»“æ„
{
  "id": "16ä½åå…­è¿›åˆ¶å­—ç¬¦ä¸²",           // å¿«ç…§å”¯ä¸€æ ‡è¯†
  "date": "YYYY-MM-DD",                  // å¿«ç…§å¯¹åº”æ—¥æœŸ
  "created_ts": 1234567890.123,          // Unixæ—¶é—´æˆ³ï¼ˆåˆ›å»ºæ—¶é—´ï¼‰
  "modules": { ... },                    // å››å¤§æ¨¡å—åŸå§‹æ•°æ®
  "labels": { ... },                     // å¯å‘å¼æ ‡ç­¾ï¼ˆä¾›å‰ç«¯é«˜äº®æ˜¾ç¤ºï¼‰
  "signals": { ... },                    // é¢å‘LLMçš„ä¿¡å·åˆ—è¡¨ï¼ˆå«æ•°æ®è´¨é‡ï¼‰
  "heuristics": { ... },                 // æŒ‰æ¨¡å—çš„å¯å‘å¼æ ‡ç­¾
  "data_quality": { ... },               // ç¼ºå¤±å­—æ®µåˆ—è¡¨
  "llm_module_reports": { ... },         // LLMæ¨¡å—åˆ†æç»“æœï¼ˆå¦‚å·²è¿è¡Œï¼‰
  "last_overall_report": "...",          // LLMç»¼åˆåˆ†æç»“æœï¼ˆå¦‚å·²è¿è¡Œï¼‰
  "last_overall_report_model": "...",    // ç»¼åˆåˆ†æä½¿ç”¨çš„æ¨¡å‹
  "last_overall_report_ts": 1234567890,  // ç»¼åˆåˆ†æç”Ÿæˆæ—¶é—´
  "persisted_ts": 1234567890.123         // æŒä¹…åŒ–æ—¶é—´æˆ³
}

6.2 modules.fundamentalsï¼ˆå®è§‚åŸºæœ¬é¢ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­—æ®µå              â”‚ è¯´æ˜                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ dgs2                â”‚ 2å¹´æœŸç¾å›½å›½å€ºæ”¶ç›Šç‡ï¼ˆ%ï¼‰ï¼Œå¦‚ 3.51                             â”‚
â”‚ dgs10               â”‚ 10å¹´æœŸç¾å›½å›½å€ºæ”¶ç›Šç‡ï¼ˆ%ï¼‰ï¼Œå¦‚ 4.18                            â”‚
â”‚ fedfunds            â”‚ è”é‚¦åŸºé‡‘æœ‰æ•ˆåˆ©ç‡ï¼ˆ%ï¼‰ï¼Œå¦‚ 3.64                               â”‚
â”‚ term_spread         â”‚ æœŸé™åˆ©å·® = DGS10 - DGS2                                      â”‚
â”‚ ffr_minus_2y        â”‚ æ”¿ç­–åç¦» = FedFunds - DGS2                                   â”‚
â”‚ fedfunds_date       â”‚ è”é‚¦åŸºé‡‘åˆ©ç‡æ•°æ®æ—¥æœŸ                                          â”‚
â”‚ ffr_minus_2y_note   â”‚ FFR-2Yè®¡ç®—è¯´æ˜å¤‡æ³¨                                           â”‚
â”‚ real10y             â”‚ 10å¹´æœŸå®é™…åˆ©ç‡ï¼ˆ%ï¼‰ï¼Œå¦‚ 1.93                                  â”‚
â”‚ breakeven10y        â”‚ 10å¹´æœŸé€šèƒ€é¢„æœŸï¼ˆ%ï¼‰ï¼Œå¦‚ 2.23                                  â”‚
â”‚ ig_oas              â”‚ æŠ•èµ„çº§å€ºåˆ¸åˆ©å·®OASï¼ˆ%ï¼‰ï¼Œå¦‚ 0.80                               â”‚
â”‚ hy_oas              â”‚ é«˜æ”¶ç›Šå€ºåˆ¸åˆ©å·®OASï¼ˆ%ï¼‰ï¼Œå¦‚ 2.91                               â”‚
â”‚ dgs2_date           â”‚ DGS2æ•°æ®æ—¥æœŸ                                                 â”‚
â”‚ dgs10_date          â”‚ DGS10æ•°æ®æ—¥æœŸ                                                â”‚
â”‚ dxy                 â”‚ ç¾å…ƒæŒ‡æ•°ï¼ˆå¦‚ 98.46ï¼‰                                         â”‚
â”‚ dxy_ticker          â”‚ ç¾å…ƒæŒ‡æ•°æ•°æ®æºä»£ç ï¼ˆå¦‚ DX-Y.NYBï¼‰                            â”‚
â”‚ events              â”‚ ç»æµæ—¥å†äº‹ä»¶æ•°ç»„ï¼ˆè§ä¸‹æ–¹eventsç»“æ„ï¼‰                          â”‚
â”‚ events_note         â”‚ ç»æµæ—¥å†æ¥æºè¯´æ˜                                              â”‚
â”‚ news                â”‚ è´¢ç»æ–°é—»æ•°ç»„ï¼ˆè§ä¸‹æ–¹newsç»“æ„ï¼‰                                â”‚
â”‚ news_note           â”‚ æ–°é—»æ¥æºè¯´æ˜                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

eventsæ•°ç»„å…ƒç´ ç»“æ„ï¼š
{
  "source": "Investing.com",
  "country": "United States",
  "event": "äº‹ä»¶åç§°",
  "time": "HH:MM",
  "importance": 1-3,                     // 1=ä½, 2=ä¸­, 3=é«˜
  "importance_desc": "Low/Moderate/High Volatility Expected",
  "actual": "å®é™…å€¼æˆ–null",
  "forecast": "é¢„æœŸå€¼æˆ–null",
  "previous": "å‰å€¼æˆ–null"
}

newsæ•°ç»„å…ƒç´ ç»“æ„ï¼š
{
  "title": "æ–°é—»æ ‡é¢˜",
  "link": "æ–°é—»é“¾æ¥URL",
  "published": "å‘å¸ƒæ—¶é—´ï¼ˆGMTæ ¼å¼ï¼‰",
  "source": "æ¥æºåª’ä½“"
}

6.3 modules.liquidityï¼ˆæµåŠ¨æ€§ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­—æ®µå              â”‚ è¯´æ˜                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ walcl               â”‚ ç¾è”å‚¨æ€»èµ„äº§ï¼ˆåäº¿ç¾å…ƒï¼‰ï¼Œå¦‚ 6539.30                          â”‚
â”‚ rrp                 â”‚ éš”å¤œé€†å›è´­ä½™é¢ï¼ˆåäº¿ç¾å…ƒï¼‰ï¼Œå¦‚ 0.00                           â”‚
â”‚ tga                 â”‚ è´¢æ”¿éƒ¨ä¸€èˆ¬è´¦æˆ·ï¼ˆåäº¿ç¾å…ƒï¼‰ï¼Œå¦‚ 858.95                         â”‚
â”‚ net_liquidity       â”‚ å‡€æµåŠ¨æ€§ = WALCL - RRP - TGAï¼ˆåäº¿ç¾å…ƒï¼‰                     â”‚
â”‚ net_change_4w       â”‚ å‡€æµåŠ¨æ€§4å‘¨å˜åŒ–é‡ï¼ˆåäº¿ç¾å…ƒï¼‰                                 â”‚
â”‚ credit_ratio        â”‚ ä¿¡ç”¨æ¯”ç‡ HYG/IEIï¼Œå¦‚ 0.674                                   â”‚
â”‚ credit_change_20d   â”‚ ä¿¡ç”¨æ¯”ç‡20æ—¥å˜åŒ–                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

6.4 modules.sentimentï¼ˆå¸‚åœºæƒ…ç»ªï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­—æ®µå               â”‚ è¯´æ˜                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ fgi_score            â”‚ CNNææƒ§è´ªå©ªæŒ‡æ•°ï¼ˆ0-100ï¼‰ï¼Œå¦‚ 45                             â”‚
â”‚ fgi_rating           â”‚ æŒ‡æ•°è¯„çº§ï¼šextreme_fear/fear/neutral/greed/extreme_greed    â”‚
â”‚ fgi_source           â”‚ æ•°æ®æ¥æºï¼ˆå¦‚ cnn-apiï¼‰                                      â”‚
â”‚ vix                  â”‚ VIXæ³¢åŠ¨ç‡æŒ‡æ•°ï¼ˆ30å¤©ï¼‰ï¼Œå¦‚ 15.91                             â”‚
â”‚ vix3m                â”‚ VIX3Mï¼ˆ3ä¸ªæœˆï¼‰ï¼Œå¦‚ 19.67                                    â”‚
â”‚ vix_term_source      â”‚ VIX3Mæ•°æ®æ¥æº                                              â”‚
â”‚ term_structure       â”‚ VIXæœŸé™ç»“æ„ï¼šcontango / backwardation / flat               â”‚
â”‚ put_call_ratio       â”‚ CBOEæƒç›ŠæœŸæƒPut/Callæ¯”ç‡ï¼ˆå½“æ—¥ï¼‰ï¼Œå¦‚ 0.74                   â”‚
â”‚ put_call_ratio_5d    â”‚ Put/Callæ¯”ç‡5æ—¥å‡å€¼                                        â”‚
â”‚ put_call_ratio_20d   â”‚ Put/Callæ¯”ç‡20æ—¥å‡å€¼                                       â”‚
â”‚ put_call_source      â”‚ Put/Callæ•°æ®æ¥æº                                           â”‚
â”‚ put_call_date        â”‚ Put/Callæ•°æ®æ—¥æœŸ                                           â”‚
â”‚ put_call_note        â”‚ Put/Callæ•°æ®å¤‡æ³¨ï¼ˆå¯èƒ½ä¸ºnullï¼‰                             â”‚
â”‚ put_call_url         â”‚ Put/Callæ•°æ®URLæ¥æº                                        â”‚
â”‚ spy_xlu              â”‚ SPY-XLUæ—¥æ”¶ç›Šå·®ï¼ˆå‘¨æœŸvsé˜²å¾¡ï¼‰                               â”‚
â”‚ hyg_ief              â”‚ HYG-IEFæ—¥æ”¶ç›Šå·®ï¼ˆä¿¡ç”¨é£é™©åå¥½ï¼‰                             â”‚
â”‚ btc_gold             â”‚ BTC-Goldæ—¥æ”¶ç›Šå·®ï¼ˆæŠ•æœºvsé¿é™©ï¼‰                              â”‚
â”‚ nyse_advancing       â”‚ NYSEä¸Šæ¶¨å®¶æ•°ï¼ˆå¯èƒ½ä¸ºnullï¼‰                                  â”‚
â”‚ nyse_declining       â”‚ NYSEä¸‹è·Œå®¶æ•°ï¼ˆå¯èƒ½ä¸ºnullï¼‰                                  â”‚
â”‚ nasdaq_advancing     â”‚ NASDAQä¸Šæ¶¨å®¶æ•°ï¼ˆå¯èƒ½ä¸ºnullï¼‰                                â”‚
â”‚ nasdaq_declining     â”‚ NASDAQä¸‹è·Œå®¶æ•°ï¼ˆå¯èƒ½ä¸ºnullï¼‰                                â”‚
â”‚ nyse_new_highs       â”‚ NYSE 52å‘¨æ–°é«˜å®¶æ•°ï¼ˆå¯èƒ½ä¸ºnullï¼‰                             â”‚
â”‚ nyse_new_lows        â”‚ NYSE 52å‘¨æ–°ä½å®¶æ•°ï¼ˆå¯èƒ½ä¸ºnullï¼‰                             â”‚
â”‚ nasdaq_new_highs     â”‚ NASDAQ 52å‘¨æ–°é«˜å®¶æ•°ï¼ˆå¯èƒ½ä¸ºnullï¼‰                           â”‚
â”‚ nasdaq_new_lows      â”‚ NASDAQ 52å‘¨æ–°ä½å®¶æ•°ï¼ˆå¯èƒ½ä¸ºnullï¼‰                           â”‚
â”‚ advance_decline_ratioâ”‚ ç»¼åˆæ¶¨è·Œæ¯”ï¼ˆå¯èƒ½ä¸ºnullï¼‰                                    â”‚
â”‚ new_high_low_ratio   â”‚ ç»¼åˆæ–°é«˜æ–°ä½æ¯”ï¼ˆå¯èƒ½ä¸ºnullï¼‰                                â”‚
â”‚ breadth_source       â”‚ å¸‚åœºå¹¿åº¦æ•°æ®æ¥æºè¯´æ˜                                        â”‚
â”‚ breadth_note         â”‚ å¸‚åœºå¹¿åº¦æ•°æ®å¤‡æ³¨                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

6.5 modules.technicalsï¼ˆæŠ€æœ¯é¢ï¼‰
6.5.1 assetså­å¯¹è±¡ï¼ˆæ¯ä¸ªèµ„äº§çš„æŠ€æœ¯æŒ‡æ ‡ï¼‰
è¦†ç›–èµ„äº§ï¼šSPX, NDX, RSP, IWM, XLK, XLP, XLU, DXY, GOLD, CRUDE, BTC

æ¯ä¸ªèµ„äº§ç»“æ„ï¼š
{
  "close": æ”¶ç›˜ä»·ï¼ˆæµ®ç‚¹æ•°ï¼‰,
  "distance_ma20_pct": ä»·æ ¼ä¸MA20è·ç¦»ï¼ˆç™¾åˆ†æ¯”ï¼Œå¦‚0.0114è¡¨ç¤º+1.14%ï¼‰,
  "distance_ma50_pct": ä»·æ ¼ä¸MA50è·ç¦»ï¼ˆç™¾åˆ†æ¯”ï¼‰,
  "distance_ma200_pct": ä»·æ ¼ä¸MA200è·ç¦»ï¼ˆç™¾åˆ†æ¯”ï¼‰,
  "atr_pct": 14æ—¥ATRå ä»·æ ¼ç™¾åˆ†æ¯”ï¼ˆæ³¢åŠ¨ç‡åº¦é‡ï¼‰,
  "boll_width": å¸ƒæ—å¸¦å®½åº¦ï¼ˆæ ‡å‡†åŒ–ï¼‰,
  "trend_label": è¶‹åŠ¿æ ‡ç­¾ï¼Œ"uptrend" / "downtrend" / "range"
}

6.5.2 æ¨¡å—çº§æŠ€æœ¯æŒ‡æ ‡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­—æ®µå              â”‚ è¯´æ˜                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ breadth_diff        â”‚ RSP-SPXæ—¥æ”¶ç›Šå·®ï¼ˆå¸‚åœºå¹¿åº¦ï¼‰                                  â”‚
â”‚ style_ratio         â”‚ XLK/XLPä»·æ ¼æ¯”ç‡ï¼ˆæˆé•¿vsé˜²å¾¡ï¼‰                               â”‚
â”‚ options_pcr_volume  â”‚ SPYæœŸæƒæˆäº¤é‡Put/Callæ¯”ç‡                                   â”‚
â”‚ options_pcr_oi      â”‚ SPYæœŸæƒæŒä»“é‡Put/Callæ¯”ç‡                                   â”‚
â”‚ total_call_volume   â”‚ SPYçœ‹æ¶¨æœŸæƒæ€»æˆäº¤é‡                                         â”‚
â”‚ total_put_volume    â”‚ SPYçœ‹è·ŒæœŸæƒæ€»æˆäº¤é‡                                         â”‚
â”‚ total_call_oi       â”‚ SPYçœ‹æ¶¨æœŸæƒæ€»æœªå¹³ä»“åˆçº¦                                     â”‚
â”‚ total_put_oi        â”‚ SPYçœ‹è·ŒæœŸæƒæ€»æœªå¹³ä»“åˆçº¦                                     â”‚
â”‚ atm_iv_call         â”‚ å¹³ä»·çœ‹æ¶¨æœŸæƒéšå«æ³¢åŠ¨ç‡                                       â”‚
â”‚ atm_iv_put          â”‚ å¹³ä»·çœ‹è·ŒæœŸæƒéšå«æ³¢åŠ¨ç‡                                       â”‚
â”‚ iv_skew             â”‚ IVåæ–œ = Put IV - Call IV                                   â”‚
â”‚ near_expiry         â”‚ æœ€è¿‘æœŸæƒåˆ°æœŸæ—¥                                               â”‚
â”‚ options_source      â”‚ æœŸæƒæ•°æ®æ¥æº                                                 â”‚
â”‚ options_note        â”‚ æœŸæƒæ•°æ®å¤‡æ³¨                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

6.6 labelsï¼ˆå¯å‘å¼æ ‡ç­¾ï¼‰
{
  "macro_regime": "Dovish" | "Neutral" | "Hawkish",
  "liquidity_regime": "Easing" | "Neutral" | "Tightening" | "Unknown",
  "sentiment_regime": "Greed" | "Neutral" | "Fear",
  "technical_regime": "Trending" | "Range",
  "options_sentiment": "Bullish" | "Neutral" | "Bearish",     // å¯é€‰
  "iv_skew_signal": "Put_Heavy" | "Balanced" | "Call_Heavy"   // å¯é€‰
}

6.7 heuristicsï¼ˆæŒ‰æ¨¡å—çš„å¯å‘å¼æ ‡ç­¾ï¼Œä¸labelså†…å®¹å¯¹åº”ï¼‰
{
  "fundamentals": "Dovish" | "Neutral" | "Hawkish",
  "liquidity": "Easing" | "Neutral" | "Tightening" | "Unknown",
  "sentiment": "Greed" | "Neutral" | "Fear",
  "technicals": "Trending" | "Range"
}

6.8 signalsï¼ˆé¢å‘LLMçš„ä¿¡å·åˆ—è¡¨ï¼‰
æ¯ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ç»“æ„ï¼š
{
  "name": "æŒ‡æ ‡åç§°",
  "value": æŒ‡æ ‡å€¼ï¼ˆæ•°å­—/å­—ç¬¦ä¸²/å¯¹è±¡ï¼‰,
  "quality": "good" | "missing" | "stale"
}

ç¤ºä¾‹ï¼š
{
  "fundamentals": [
    {"name": "dgs2", "value": 3.51, "quality": "good"},
    {"name": "dgs10", "value": 4.18, "quality": "good"},
    ...
  ],
  "liquidity": [...],
  "sentiment": [...],
  "technicals": [...]
}

6.9 data_qualityï¼ˆç¼ºå¤±å­—æ®µåˆ—è¡¨ï¼‰
{
  "fundamentals": [],                    // ç©ºæ•°ç»„è¡¨ç¤ºæ•°æ®å®Œæ•´
  "liquidity": ["walcl", "rrp", "tga"],  // åˆ—å‡ºç¼ºå¤±å­—æ®µå
  "sentiment": [],
  "technicals": []
}

6.10 llm_module_reportsï¼ˆLLMæ¨¡å—åˆ†æç»“æœï¼‰
å½“è°ƒç”¨ /v3/analysis/module åï¼Œç»“æœä¼šä¿å­˜åœ¨æ­¤å¯¹è±¡ä¸­ï¼š
{
  "fundamentals": {
    "text": "LLMç”Ÿæˆçš„åˆ†ææ–‡æœ¬ï¼ˆMarkdownæ ¼å¼ï¼‰",
    "llm_model": "gemini-3-pro-preview",
    "created_ts": 1234567890.123
  },
  "liquidity": {...},
  "sentiment": {...},
  "technicals": {...}
}

================================================================================
7. åˆ¤å®šæ ‡å‡†ä¸æ ‡ç­¾è¯´æ˜ï¼ˆä¾›å‰ç«¯ç†è§£æ•°æ®å«ä¹‰ï¼‰
--------------------------------------------------------------------------------

7.1 Fundamentalsï¼ˆå®è§‚åŸºæœ¬é¢ï¼‰Regimeåˆ¤å®š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ¤å®šè§„åˆ™                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  if term_spread < -0.5:   â†’ "Hawkish" (é¹°æ´¾/ç´§ç¼©)                            â”‚
â”‚  elif term_spread > 0.0:  â†’ "Dovish" (é¸½æ´¾/å®½æ¾)                             â”‚
â”‚  else:                    â†’ "Neutral" (ä¸­æ€§)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å«ä¹‰è§£è¯»ï¼š                                                                   â”‚
â”‚  â€¢ Dovishï¼šæ”¶ç›Šç‡æ›²çº¿æ­£å¸¸åŒ–ï¼Œå¸‚åœºé¢„æœŸå®½æ¾ç¯å¢ƒï¼Œåˆ©å¥½é£é™©èµ„äº§                   â”‚
â”‚  â€¢ Hawkishï¼šæ”¶ç›Šç‡æ›²çº¿æ·±åº¦å€’æŒ‚ï¼Œç´§ç¼©å‘¨æœŸï¼Œé£é™©èµ„äº§æ‰¿å‹                        â”‚
â”‚  â€¢ Neutralï¼šæ›²çº¿å¤„äºè¿‡æ¸¡çŠ¶æ€ï¼Œéœ€ç»“åˆå…¶ä»–æŒ‡æ ‡åˆ¤æ–­                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

7.2 Liquidityï¼ˆæµåŠ¨æ€§ï¼‰Regimeåˆ¤å®š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ¤å®šè§„åˆ™                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  if net_change_4w > 500:   â†’ "Easing" (æ‰©å¼ )                                 â”‚
â”‚  elif net_change_4w < -500: â†’ "Tightening" (ç´§ç¼©)                            â”‚
â”‚  else:                     â†’ "Neutral" (ä¸­æ€§)                                â”‚
â”‚  * è‹¥æ•°æ®ç¼ºå¤±              â†’ "Unknown"                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å«ä¹‰è§£è¯»ï¼š                                                                   â”‚
â”‚  â€¢ Easingï¼šå‡€æµåŠ¨æ€§å¤§å¹…æ‰©å¼ ï¼ˆ>500äº¿ç¾å…ƒ/4å‘¨ï¼‰ï¼Œåˆ©å¥½é£é™©èµ„äº§                   â”‚
â”‚  â€¢ Tighteningï¼šå‡€æµåŠ¨æ€§å¤§å¹…æ”¶ç¼©ï¼Œé£é™©èµ„äº§æ‰¿å‹                                 â”‚
â”‚  â€¢ Neutralï¼šæµåŠ¨æ€§å˜åŒ–å¹³ç¨³ï¼Œéœ€å…³æ³¨ç»“æ„ï¼ˆRRPæ˜¯å¦å½’é›¶ã€TGAå˜åŠ¨ï¼‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

7.3 Sentimentï¼ˆå¸‚åœºæƒ…ç»ªï¼‰Regimeåˆ¤å®š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ¤å®šè§„åˆ™ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. if fgi_score >= 60 and vix < 20: â†’ "Greed" (è´ªå©ª/Risk-On)                â”‚
â”‚  2. elif fgi_score <= 40 or vix > 25: â†’ "Fear" (ææƒ§/Risk-Off)              â”‚
â”‚  3. è¾…åŠ©åˆ¤æ–­ï¼šå¸‚åœºå¹¿åº¦æŒ‡æ ‡ï¼ˆè‹¥ä¸»åˆ¤å®šä¸è§¦å‘ï¼‰                                  â”‚
â”‚     â€¢ A/D > 1.5 + NH/NL > 2: â†’ "Greed"                                       â”‚
â”‚     â€¢ A/D < 0.67 + NH/NL < 0.5: â†’ "Fear"                                     â”‚
â”‚  4. else: â†’ "Neutral"                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å«ä¹‰è§£è¯»ï¼š                                                                   â”‚
â”‚  â€¢ Greedï¼šå¸‚åœºæƒ…ç»ªä¹è§‚ï¼Œå¯èƒ½å­˜åœ¨è¿½æ¶¨é£é™©                                      â”‚
â”‚  â€¢ Fearï¼šå¸‚åœºæƒ…ç»ªæ‚²è§‚ï¼Œå¯èƒ½æ˜¯é€†å‘æŠ•èµ„æœºä¼š                                     â”‚
â”‚  â€¢ Neutralï¼šæƒ…ç»ªä¸­æ€§ï¼Œéœ€ç»“åˆæŠ€æœ¯é¢åˆ¤æ–­                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

7.4 Technicalsï¼ˆæŠ€æœ¯é¢ï¼‰Regimeåˆ¤å®š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ¤å®šè§„åˆ™                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  if trend in ("uptrend","downtrend") and boll_width > 0.04: â†’ "Trending"    â”‚
â”‚  else: â†’ "Range"                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å«ä¹‰è§£è¯»ï¼š                                                                   â”‚
â”‚  â€¢ Trendingï¼šå¸‚åœºå¤„äºæ˜ç¡®è¶‹åŠ¿ä¸­ï¼ˆä¸Šæ¶¨æˆ–ä¸‹è·Œï¼‰ï¼Œé€‚åˆè¶‹åŠ¿è·Ÿè¸ªç­–ç•¥               â”‚
â”‚  â€¢ Rangeï¼šå¸‚åœºå¤„äºåŒºé—´éœ‡è¡ï¼Œé€‚åˆå‡å€¼å›å½’ç­–ç•¥                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

7.5 Optionsç›¸å…³è¾…åŠ©æ ‡ç­¾
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  options_sentimentï¼ˆæœŸæƒæƒ…ç»ªï¼‰                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  if options_pcr_oi > 1.2:  â†’ "Bearish"                                       â”‚
â”‚  elif options_pcr_oi < 0.8: â†’ "Bullish"                                      â”‚
â”‚  else:                     â†’ "Neutral"                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  iv_skew_signalï¼ˆIVåæ–œä¿¡å·ï¼‰                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  if iv_skew > 0.05:   â†’ "Put_Heavy" (ä¸‹è¡Œå¯¹å†²éœ€æ±‚å¼º)                         â”‚
â”‚  elif iv_skew < -0.02: â†’ "Call_Heavy" (ä¸Šè¡ŒæŠ•æœºéœ€æ±‚å¼º)                       â”‚
â”‚  else:                â†’ "Balanced"                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
8. å‰ç«¯UIå»ºè®®ï¼ˆåŸºäºæ•°æ®ç»“æ„ï¼‰
--------------------------------------------------------------------------------

8.1 æ ‡ç­¾é¢œè‰²æ˜ å°„å»ºè®®
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ ‡ç­¾å€¼          â”‚ å»ºè®®é¢œè‰²/å›¾æ ‡                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dovish          â”‚ ğŸŸ¢ ç»¿è‰² (å®½æ¾åˆ©å¥½)                                            â”‚
â”‚ Hawkish         â”‚ ğŸ”´ çº¢è‰² (ç´§ç¼©åˆ©ç©º)                                            â”‚
â”‚ Neutral         â”‚ ğŸŸ¡ é»„è‰²/ç°è‰² (ä¸­æ€§è§‚æœ›)                                       â”‚
â”‚ Easing          â”‚ ğŸŸ¢ ç»¿è‰² (æµåŠ¨æ€§æ‰©å¼ )                                          â”‚
â”‚ Tightening      â”‚ ğŸ”´ çº¢è‰² (æµåŠ¨æ€§æ”¶ç¼©)                                          â”‚
â”‚ Greed           â”‚ ğŸŸ¢ ç»¿è‰² (è´ªå©ª/Risk-On)                                        â”‚
â”‚ Fear            â”‚ ğŸ”´ çº¢è‰² (ææƒ§/Risk-Off)                                       â”‚
â”‚ Uptrend         â”‚ ğŸŸ¢ ç»¿è‰² + ğŸ“ˆ                                                  â”‚
â”‚ Downtrend       â”‚ ğŸ”´ çº¢è‰² + ğŸ“‰                                                  â”‚
â”‚ Range           â”‚ ğŸŸ¡ é»„è‰² + â†”ï¸                                                   â”‚
â”‚ Trending        â”‚ ğŸ”µ è“è‰²                                                       â”‚
â”‚ Bullish         â”‚ ğŸŸ¢ ç»¿è‰²                                                       â”‚
â”‚ Bearish         â”‚ ğŸ”´ çº¢è‰²                                                       â”‚
â”‚ Put_Heavy       â”‚ ğŸ”´ çº¢è‰² (å¯¹å†²éœ€æ±‚)                                            â”‚
â”‚ Call_Heavy      â”‚ ğŸŸ¢ ç»¿è‰² (æŠ•æœºéœ€æ±‚)                                            â”‚
â”‚ Unknown         â”‚ âšª ç°è‰² (æ•°æ®ç¼ºå¤±)                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

8.2 æ•°æ®è´¨é‡æŒ‡ç¤ºå™¨
- quality: "good"    â†’ âœ… ç»¿è‰²å‹¾
- quality: "missing" â†’ âŒ çº¢è‰²å‰
- quality: "stale"   â†’ âš ï¸ é»„è‰²è­¦å‘Š

8.3 å…³é”®æŒ‡æ ‡å¯è§†åŒ–å»ºè®®
- FGI Score (0-100): å»ºè®®ç”¨ä»ªè¡¨ç›˜/è¿›åº¦æ¡ï¼Œåˆ†åŒºç€è‰²
  * 0-25: çº¢è‰² (æåº¦ææƒ§)
  * 25-45: æ©™è‰² (ææƒ§)
  * 45-55: é»„è‰² (ä¸­æ€§)
  * 55-75: æµ…ç»¿ (è´ªå©ª)
  * 75-100: æ·±ç»¿ (æåº¦è´ªå©ª)

- VIX: å»ºè®®ç”¨æ•°å­—+èƒŒæ™¯è‰²
  * VIX < 15: ç»¿è‰²èƒŒæ™¯
  * 15-20: é»„è‰²èƒŒæ™¯
  * 20-25: æ©™è‰²èƒŒæ™¯
  * > 25: çº¢è‰²èƒŒæ™¯

- æŠ€æœ¯é¢èµ„äº§è¡¨æ ¼: ç”¨è¡¨æ ¼å±•ç¤ºï¼Œè·ç¦»å‡çº¿ç™¾åˆ†æ¯”ç”¨é¢œè‰²ç¼–ç 
  * > 0: ç»¿è‰² (ä»·æ ¼åœ¨å‡çº¿ä¸Šæ–¹)
  * < 0: çº¢è‰² (ä»·æ ¼åœ¨å‡çº¿ä¸‹æ–¹)

================================================================================
9. ä¸»è¦å†…éƒ¨åŠŸèƒ½ç‚¹ï¼ˆä¾¿äºå‰ç«¯ç†è§£æ•°æ®ä»ä½•è€Œæ¥ï¼‰
--------------------------------------------------------------------------------
- æ•°æ®é‡‡é›†æºï¼š
  - FREDï¼šåˆ©ç‡/èµ„äº§è´Ÿå€ºè¡¨/é€†å›è´­/TGA ç­‰
  - Yahoo Finance(yfinance)ï¼šDXYã€VIXã€ETF/æŒ‡æ•°/å•†å“/åŠ å¯†ç­‰ä»·æ ¼ã€æœŸæƒé“¾æ•°æ®
  - TradingEconomics/Investing.comï¼šç»æµæ—¥å†ï¼ˆå¯ç¼“å­˜/ç†”æ–­ï¼‰
  - Google News RSSï¼šå®è§‚æ–°é—»
  - CBOE CSVï¼šPut/Call Ratio
  - CNN Fear&Greedï¼šä¼˜å…ˆ third-party åŒ…ï¼Œå¤±è´¥åˆ™èµ° CNN API / CSV å…œåº•
  - Wall Street Journalï¼šå¸‚åœºå¹¿åº¦æ•°æ®ï¼ˆæ¶¨è·Œå®¶æ•°ã€æ–°é«˜æ–°ä½ï¼‰

- æ ¸å¿ƒäº§å‡ºï¼š
  - labelsï¼šå¯å‘å¼å®è§‚/æµåŠ¨æ€§/æƒ…ç»ª/æŠ€æœ¯é¢ regime
  - signalsï¼šå‹ç¼©åçš„ä¿¡å·åˆ—è¡¨ï¼ˆæ›´é€‚åˆå–‚ç»™ LLMï¼‰
  - prompt_contextï¼šé¢å‘ LLM çš„æ•´æ®µæ–‡æœ¬æ‘˜è¦

================================================================================
10. æ•°æ®æ ¼å¼åŒ–å·¥å…·è¯´æ˜
--------------------------------------------------------------------------------
é¡¹ç›®æä¾›äº†ä¸€ä¸ªPythonè„šæœ¬ format_snapshot.pyï¼Œç”¨äºå°†JSONæ ¼å¼çš„å¿«ç…§æ•°æ®è½¬åŒ–ä¸º
å¯è¯»çš„æ–‡æœ¬æŠ¥å‘Šã€‚

ä½¿ç”¨æ–¹æ³•ï¼š
  python format_snapshot.py <snapshot_id>    # æ ¼å¼åŒ–æŒ‡å®šå¿«ç…§
  python format_snapshot.py --latest         # æ ¼å¼åŒ–æœ€æ–°å¿«ç…§
  python format_snapshot.py --all            # æ ¼å¼åŒ–æ‰€æœ‰å¿«ç…§
  python format_snapshot.py --list           # åˆ—å‡ºæ‰€æœ‰å¿«ç…§

è¾“å‡ºç›®å½•ï¼šformatted_reports/
è¾“å‡ºæ–‡ä»¶ï¼šreport_<snapshot_id>.txt

æŠ¥å‘Šå†…å®¹åŒ…æ‹¬ï¼š
- å¿«ç…§å…ƒæ•°æ®ï¼ˆIDã€æ—¥æœŸã€åˆ›å»ºæ—¶é—´ï¼‰
- æ ‡ç­¾æ‘˜è¦ï¼ˆå››å¤§æ¨¡å—Regimeï¼‰
- å„æ¨¡å—è¯¦ç»†æ•°æ®ï¼ˆè¡¨æ ¼å½¢å¼ï¼‰
- æ•°æ®è´¨é‡æŠ¥å‘Š
- LLMåˆ†æç»“æœï¼ˆå¦‚å·²ç”Ÿæˆï¼‰

================================================================================
11. å¤‡æ³¨ï¼ˆå½“å‰è®¾è®¡çš„è¾¹ç•Œï¼‰
--------------------------------------------------------------------------------
- æœ¬é¡¹ç›®ä¸º"è½»é‡å¯è·‘é€šåŸå‹"ï¼Œsession ä¸ snapshot éƒ½æ˜¯å†…å­˜æ€ï¼›éœ€è¦å¼ºä¸€è‡´/å¤šå®ä¾‹/æŒä¹…åŒ–æ—¶ï¼Œå¼•å…¥ Redis/æ•°æ®åº“ã€‚
- è‹¥è¦åœ¨æµè§ˆå™¨é‡Œä½¿ç”¨ cookie é‰´æƒï¼Œéœ€è¦è°ƒæ•´ï¼šCORS allow_credentials=trueã€cookie SameSite=None + Secure=trueï¼Œå¹¶ç¡®ä¿å…¨ç«™ HTTPSï¼›å½“å‰æ¨èä½¿ç”¨ Bearer token æ–¹æ¡ˆã€‚
- éƒ¨åˆ†æ•°æ®æºï¼ˆå¦‚WSJå¸‚åœºå¹¿åº¦ã€TradingEconomicsï¼‰å¯èƒ½éœ€è¦JavaScriptæ¸²æŸ“æˆ–APIå¯†é’¥ï¼Œç¼ºå¤±æ—¶ä¼šä½¿ç”¨ä»£ç†æŒ‡æ ‡æˆ–æ ‡è®°ä¸ºç¼ºå¤±ã€‚

================================================================================
é™„å½•Aï¼šç¤ºä¾‹å“åº”æ•°æ®ï¼ˆç²¾ç®€ç‰ˆï¼‰
--------------------------------------------------------------------------------
ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„snapshotå“åº”ç¤ºä¾‹ï¼ˆå·²ç²¾ç®€éƒ¨åˆ†å­—æ®µï¼‰ï¼š

{
  "id": "bd137d28ab70e5c6",
  "date": "2025-12-17",
  "created_ts": 1765982181.59,
  "modules": {
    "fundamentals": {
      "dgs2": 3.51,
      "dgs10": 4.18,
      "term_spread": 0.67,
      "ffr_minus_2y": 0.13,
      "dxy": 98.46
      // ... æ›´å¤šå­—æ®µ
    },
    "liquidity": {
      "walcl": 6539.303,
      "rrp": 0.001554,
      "tga": 858.946,
      "net_liquidity": 5680.355,
      "net_change_4w": 66.999
      // ... æ›´å¤šå­—æ®µ
    },
    "sentiment": {
      "fgi_score": 45,
      "fgi_rating": "neutral",
      "vix": 15.91,
      "vix3m": 19.67,
      "term_structure": "contango",
      "put_call_ratio": 0.74
      // ... æ›´å¤šå­—æ®µ
    },
    "technicals": {
      "assets": {
        "SPX": {"close": 6800.49, "trend_label": "uptrend", ...},
        "NDX": {"close": 25111.26, "trend_label": "range", ...}
        // ... æ›´å¤šèµ„äº§
      },
      "breadth_diff": 0.00283,
      "style_ratio": 1.787
    }
  },
  "labels": {
    "macro_regime": "Dovish",
    "liquidity_regime": "Neutral",
    "sentiment_regime": "Neutral",
    "technical_regime": "Range"
  },
  "heuristics": {
    "fundamentals": "Dovish",
    "liquidity": "Neutral",
    "sentiment": "Neutral",
    "technicals": "Range"
  },
  "data_quality": {
    "fundamentals": [],
    "liquidity": [],
    "sentiment": [],
    "technicals": []
  }
}

================================================================================
æ–‡æ¡£ç»“æŸ
================================================================================
